<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script type="text/javascript" src="d3.js"></script>
</head>
<style>

</style>
<body>
	<!-- 用来动态的生成多个elements -->
	<script type="text/javascript">
		// use selectAll to select multiple elements.
		var width = 800;
		var height = 600;
		var num = 400;
		// var dataset = [
  //                 [ 5,     20 ],
  //                 [ 480,   90 ],
  //                 [ 250,   50 ],
  //                 [ 100,   33 ],
  //                 [ 330,   95 ],
  //                 [ 410,   12 ],
  //                 [ 475,   44 ],
  //                 [ 25,    67 ],
  //                 [ 85,    21 ],
  //                 [ 220,   88 ]
  //             ];
        var dataset = []
        for(i=0; i<num; i++){
        	dataset.push([Math.floor(Math.random()*800), Math.floor(Math.random()*200)])
        }

		var svg = d3.select('body')
					.append('svg')
					.attr('width', width)
					.attr('height', height)	

		svg.selectAll('circle')
		   .data(dataset)
		   .enter()
		   .append('circle')
		   .attr('cx', function(d){
		   		return d[0];
		   })
		   .attr('cy', function(d){
		   		return d[1];
		   })
		   .attr('r', 5)
		   .attr('fill', function(d){
				return "rgb("+ (d[0])%255 + ", "+ (d[1])%255 + "," + (d[1]*2)%255 + ")"
			})
		   .attr('r', '5%')
		   .transition()
		   .duration(2000)
		   .attr('cy', "80%")
		   .attr('r', '2%')
		   .attr('fill', 'blue')
		   .transition()
		   .delay(function(d, i){
		   		return i*100;
		   })
		   .duration(2000)
		   .attr('cy', "20%")
		   .attr('fill', function(d){
				return "rgb("+ (d[0])%255 + ", "+ (d[1])%255 + "," + (d[1]*2)%255 + ")"
			})
		   .attr('r', function(d,i){
		   		return 11*Math.random()*3;
		   })

	</script>
</body>
</html>























